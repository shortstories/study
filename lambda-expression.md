# Lambda expression

## Lambda의 실제 객체 생성?

이펙티브 자바에서 '익명 클래스를 사용하면 메소드가 호출되어 실행될 때마다 익명 클래스의 새로운 인스턴스가 생성된다.' 라는 항목을 보게 되어 갑자기 불안해졌다. 내 프로젝트에는 Lambda expression이 잔뜩 있고, Lambda는 익명 클래스의 sugar syntax로 실제 실행 시엔 자동으로 적절한 Functional Interface의 구현체로 치환된다고 알고 있었는데, 그럼 Lambda도 같은 문제점이 존재하는게 아닌가 싶었기 때문이다.

뭐, 결론부터 내리자면 걱정할 필요는 없었다. 일단 익명 클래스를 쓰더라도 컴파일해서 bytecode로 바꾸는 과정에서 항상 새로운 인스턴스를 생성하지 않도록 루프에서 빼는 최적화 과정도 있었고, Lambda expression의 경우  다른 방법으로 최적화되었기 때문이다. 구체적인 동작은 JVM의 구현마다 달라지긴 한다.





